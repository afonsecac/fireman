<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:f="http://java.sun.com/jsf/core">

<p:dialog header="Crear Requerimiento" widgetVar="dlgServiceCreate"
	modal="true">
	<h:form id="formServiceCreate">
		<p:outputPanel id="opCreate">
			<h:panelGrid columns="1" cellpadding="5">

				<h:panelGroup layout="block">
					<p:outputLabel for="txtName" value="Nombre" />
					<div>
						<p:inputText id="txtName"
							value="#{requirementListBean.selectedRequirement.name}"
							required="true" requiredMessage="Nombre requerido" />
						<p:message for="txtName" />
					</div>
				</h:panelGroup>

				<h:panelGroup layout="block" style="padding-top: 8px;">
					<p:outputLabel for="txtDes" value="Descripci贸n" />
					<div>
						<p:inputText id="txtDes"
							value="#{requirementListBean.selectedRequirement.description}"
							required="true" requiredMessage="Descripci贸n requerida" />
						<p:message for="txtDes" />
					</div>
				</h:panelGroup>

				<h:panelGroup layout="block" style="padding-top: 8px;">
					<p:outputLabel for="cmbRol" value="Rol" />
					<div>
						<p:selectOneMenu id="cmbRol" value="#{requirementListBean.role}"
							converter="selectOneMenuConverter" panelStyle="width:180px"
							effect="fade" var="r" style="width:160px" filter="true"
							filterMatchMode="startsWith">
							<f:selectItem itemLabel="Seleccione" noSelectionOption="true" />
							<f:selectItems value="#{requirementListBean.listRoles()}"
								var="role" itemLabel="#{role.roleName}" itemValue="#{role}" />
							<p:column>
								<h:outputText value="#{r.roleName}" />
							</p:column>
						</p:selectOneMenu>
						<p:message for="cmbRol" />
					</div>
				</h:panelGroup>
			</h:panelGrid>
		</p:outputPanel>

		<div align="right" style="padding-top: 15px;">
			<p:commandButton ajax="true" action="faces-redirect=false"
				update=":formList:dtList growl opCreate"
				oncomplete="handleDialogSubmit(xhr, status, args, PF('dlgServiceCreate'))"
				actionListener="#{requirementListBean.createRequirement()}"
				value="Guardar" styleClass="btn btn-default" />
		</div>
	</h:form>
</p:dialog>

<p:dialog header="Editar Requerimiento" widgetVar="dlgServiceEdit"
	modal="true">
	<h:form id="formServiceEdit">
		<p:outputPanel id="opEdit">
			<h:panelGrid columns="1" cellpadding="5">

				<h:panelGroup layout="block">
					<p:outputLabel for="txtName2" value="Nombre" />
					<div>
						<p:inputText id="txtName2"
							value="#{requirementListBean.selectedRequirement.name}"
							required="true" requiredMessage="Nombre requerido" />
						<p:message for="txtName2" />
					</div>
				</h:panelGroup>

				<h:panelGroup layout="block" style="padding-top: 8px;">
					<p:outputLabel for="txtDes1" value="Descripci贸n" />
					<div>
						<p:inputText id="txtDes1"
							value="#{requirementListBean.selectedRequirement.description}"
							required="true" requiredMessage="Descripci贸n requerida" />
						<p:message for="txtDes1" />
					</div>
				</h:panelGroup>

				<h:panelGroup layout="block" style="padding-top: 8px;">
					<p:outputLabel for="cmbRol2" value="Rol" />
					<div>
						<p:selectOneMenu id="cmbRol2"
							value="#{requirementListBean.selectedRequirement.role}"
							converter="selectOneMenuConverter" panelStyle="width:180px"
							effect="fade" var="r" style="width:160px" filter="true"
							filterMatchMode="startsWith">
							<f:selectItems value="#{requirementListBean.listRoles()}"
								var="role" itemLabel="#{role.roleName}" itemValue="#{role}" />
							<p:column>
								<h:outputText value="#{r.roleName}" />
							</p:column>
						</p:selectOneMenu>
						<p:message for="cmbRol2" />
					</div>
				</h:panelGroup>
			</h:panelGrid>
		</p:outputPanel>

		<div align="right" style="padding-top: 15px;">
			<p:commandButton ajax="true" action="faces-redirect=false"
				oncomplete="handleDialogSubmit(xhr, status, args, PF('dlgServiceEdit'))"
				update=":formList:dtList growl opEdit"
				actionListener="#{requirementListBean.editRequirement()}"
				value="Guardar" styleClass="btn btn-default" />
		</div>
	</h:form>
</p:dialog>
</html>